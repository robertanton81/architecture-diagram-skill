# Architecture Diagrams Knowledge Base Index

This directory stores learned knowledge organized by output mode.

## Directory structure

- `shared/` — cross-cutting knowledge (C4 model concepts, applicable to all modes)
- `icepanel/` — IcePanel REST API and integration knowledge
- `mermaid/` — Mermaid diagram syntax and configuration knowledge

## How this works

1. Determine which mode is active (IcePanel or Mermaid)
2. Check `knowledge/<mode>/` for a `.md` file on the topic
3. Also check `knowledge/shared/` for general C4 topics
4. If a file exists → read it
5. If NO file exists:
   a. Find the documentation URL in the tables below
   b. Fetch and read the docs
   c. Extract key information (syntax, endpoints, fields, examples, gotchas)
   d. Save as a new `.md` file in the correct subdirectory (under 200 lines)
   e. Then proceed with the operation

**This is critical.** The knowledge base grows over time. Every topic encountered becomes persistent knowledge for future sessions. Never guess — learn it first, persist the knowledge, then act.

## Shared documentation sources

| Topic | Learn from | Save as |
|---|---|---|
| C4 model concepts | (pre-seeded) | `shared/c4-model.md` |

## IcePanel documentation sources

| Topic | Learn from | Save as |
|---|---|---|
| API basics | https://developer.icepanel.io/introduction/getting-started | `icepanel/api-basics.md` |
| Creating model objects | https://developer.icepanel.io/api-reference/model/objects/create | `icepanel/create-model-objects.md` |
| Creating connections | https://developer.icepanel.io/api-reference/model/connections/create | `icepanel/create-connections.md` |
| Creating diagrams | https://developer.icepanel.io/api-reference/diagrams/create | `icepanel/create-diagrams.md` |
| Diagram content | https://developer.icepanel.io/api-reference/diagrams/content/replace | `icepanel/diagram-content.md` |
| Flows | https://developer.icepanel.io/api-reference/flows/create | `icepanel/create-flows.md` |
| Upsert objects | https://developer.icepanel.io/api-reference/model/objects/upsert | `icepanel/upsert-objects.md` |
| Domains | https://developer.icepanel.io/api-reference/domains/create | `icepanel/domains.md` |
| Tags | https://developer.icepanel.io/api-reference/tags | `icepanel/tags.md` |
| Versions | https://developer.icepanel.io/api-reference/versions | `icepanel/versions.md` |
| Teams | https://developer.icepanel.io/api-reference/teams/list | `icepanel/teams.md` |
| Technologies catalog | https://developer.icepanel.io/api-reference/catalog/technologies/get | `icepanel/technologies.md` |
| Rate limits | https://developer.icepanel.io/introduction/rate-limits | `icepanel/rate-limits.md` |
| Export formats | https://developer.icepanel.io/api-reference/model/objects/export | `icepanel/export.md` |

## Mermaid documentation sources

| Topic | Learn from | Save as |
|---|---|---|
| C4 diagram syntax | https://mermaid.js.org/syntax/c4.html | `mermaid/c4-syntax.md` |
| Sequence diagrams | https://mermaid.js.org/syntax/sequenceDiagram.html | `mermaid/sequence-diagrams.md` |
| Flowcharts | https://mermaid.js.org/syntax/flowchart.html | `mermaid/flowcharts.md` |
| Class diagrams | https://mermaid.js.org/syntax/classDiagram.html | `mermaid/class-diagrams.md` |
| State diagrams | https://mermaid.js.org/syntax/stateDiagram.html | `mermaid/state-diagrams.md` |
| ER diagrams | https://mermaid.js.org/syntax/entityRelationshipDiagram.html | `mermaid/er-diagrams.md` |
| Themes & styling | https://mermaid.js.org/config/theming.html | `mermaid/themes-and-styling.md` |
| Directives & config | https://mermaid.js.org/config/directives.html | `mermaid/directives.md` |

## Existing knowledge files

### Shared
- `shared/c4-model.md` — C4 model levels, element types, when to use each level

### IcePanel
- `icepanel/api-basics.md` — Base URL, auth, rate limits
- `icepanel/create-model-objects.md` — Creating model objects (systems, apps, components, actors, groups)
- `icepanel/create-connections.md` — Creating model connections
- `icepanel/create-diagrams.md` — Creating diagrams and positioning objects on canvas
- `icepanel/create-flows.md` — Creating flows (sequence diagrams) with steps, branching, and parallel paths

### Mermaid
- `mermaid/c4-syntax.md` — C4 diagram types, all element/relationship functions, boundaries, styling, complete examples
